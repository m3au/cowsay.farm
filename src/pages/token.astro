---
import PageLayout from "@/layouts/Base.astro";
import BuybackTracker from "@/components/token/BuybackTracker.astro";
import PnLChart from "@/components/transparency/PnLChart.astro";
import BuybackHistory from "@/components/transparency/BuybackHistory.astro";
import WalletTracker from "@/components/transparency/WalletTracker.astro";
import { siteConfig } from "@/site-config";

const meta = {
	description:
		"Information about the Cowsay token, including tokenomics, dev fees distribution, buyback mechanism, contract details, and complete financial transparency.",
	title: "Token",
};
---

<PageLayout meta={meta}>
	<!-- Launch Announcement -->
	<div
		class="mb-4 rounded-md border-2 border-green-500 bg-green-500/10 px-4 py-4 text-center text-sm backdrop-blur-sm"
	>
		<p class="mb-2 text-textColor">
			<strong class="text-base text-green-500">üöÄ Token is Live!</strong>
		</p>
		<p class="mb-2 text-textColor">
			<strong>$COWSAY is now live on Pump.fun!</strong> Join the community and trade now.
		</p>
		<p class="mb-2 text-textColor">
			Creator allocation (25% of supply) is fully vested on Streamflow for 3 years. üçøüòé
		</p>
		<div class="mt-3 flex flex-wrap justify-center gap-3">
			<a
				class="rainbow rainbow-1 inline-block"
				href="https://pump.fun/coin/7wVPhDegCLfcHcNdW1Z9Wbwd2HXMj3snLoiTeDNEpump"
				target="_blank"
				rel="noopener noreferrer"
			>
				<span>Buy on Pump.fun</span>
			</a>
			<a
				class="rainbow rainbow-1 inline-block"
				href="https://dexscreener.com/solana/akojgezt4sk2fv5abmrq4tc2v9tml9wxf2nkljmrff5z"
				target="_blank"
				rel="noopener noreferrer"
			>
				<span>View on DexScreener</span>
			</a>
		</div>
	</div>

	<!-- Section 1: The Hero (Identity) -->
	<section class="mb-12">
		<h1 class="title mb-6">Token</h1>
		<p class="mb-6">
			The official token of the Cowsay ecosystem. Built on Solana, this token represents the
			community around the daily developer quotes shared by the @cowsayco Twitter bot.
		</p>

		<div class="mb-6 rounded-lg border border-green-500 bg-black p-4 font-mono text-sm">
			<div class="flex items-center gap-2">
				<span class="text-green-500">$</span>
				<span class="text-green-500">cat token.info</span>
			</div>
		</div>

		<div class="rounded-lg border border-accent bg-accent/5 p-6 font-mono text-sm">
			<div class="grid grid-cols-1 gap-4 md:grid-cols-2">
				<div>
					<span class="text-muted">Token Name:</span>
					<code class="ml-2 block text-textColor">COWSAYCO</code>
				</div>
				<div>
					<span class="text-muted">Token Symbol:</span>
					<code class="ml-2 block text-textColor">$COWSAY</code>
				</div>
				<div>
					<span class="text-muted">Blockchain:</span>
					<code class="ml-2 block text-textColor">Solana</code>
				</div>
				<div>
					<span class="text-muted">Total Supply:</span>
					<code class="ml-2 block text-textColor">1,000,000,000 (1B fixed)</code>
				</div>
				<div class="md:col-span-2">
					<span class="text-muted">Contract Address:</span>
					<div class="mt-2 flex flex-wrap items-center gap-2">
						<code class="break-all text-textColor">7wVPhDegCLfcHcNdW1Z9Wbwd2HXMj3snLoiTeDNE</code>
						<button
							id="copy-ca-btn"
							class="px-3 py-1 text-xs rounded border border-accent bg-accent/10 hover:bg-accent/20 transition-colors"
							aria-label="Copy contract address"
						>
							Copy
						</button>
					</div>
				</div>
			</div>
			<div class="mt-6 pt-6 border-t border-accent/50">
				<h3 class="title mb-4 text-lg font-semibold">Links</h3>
				<div class="flex flex-wrap gap-3">
					<a
						href="https://pump.fun/coin/7wVPhDegCLfcHcNdW1Z9Wbwd2HXMj3snLoiTeDNEpump"
						target="_blank"
						rel="noopener noreferrer"
						class="rainbow rainbow-1 inline-block"
					>
						<span>Pump.fun</span>
					</a>
					<a
						href="https://dexscreener.com/solana/akojgezt4sk2fv5abmrq4tc2v9tml9wxf2nkljmrff5z"
						target="_blank"
						rel="noopener noreferrer"
						class="rainbow rainbow-1 inline-block"
					>
						<span>DexScreener</span>
					</a>
					<a
						href="https://t.co/8LWYjAh7D1"
						target="_blank"
						rel="noopener noreferrer"
						class="rainbow rainbow-1 inline-block"
					>
						<span>Vesting Contract</span>
					</a>
					<a
						href={`https://solscan.io/token/7wVPhDegCLfcHcNdW1Z9Wbwd2HXMj3snLoiTeDNE`}
						target="_blank"
						rel="noopener noreferrer"
						class="rainbow rainbow-1 inline-block"
					>
						<span>Solscan</span>
					</a>
				</div>
			</div>
		</div>
	</section>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const copyBtn = document.getElementById("copy-ca-btn");
			const contractAddress = "7wVPhDegCLfcHcNdW1Z9Wbwd2HXMj3snLoiTeDNE";

			if (copyBtn) {
				copyBtn.addEventListener("click", async function () {
					try {
						await navigator.clipboard.writeText(contractAddress);
						const originalText = copyBtn.textContent;
						copyBtn.textContent = "Copied!";
						copyBtn.classList.add("bg-green-500/20");
						setTimeout(() => {
							copyBtn.textContent = originalText;
							copyBtn.classList.remove("bg-green-500/20");
						}, 2000);
					} catch (err) {
						console.error("Failed to copy:", err);
						copyBtn.textContent = "Failed";
						setTimeout(() => {
							copyBtn.textContent = "Copy";
						}, 2000);
					}
				});
			}
		});
	</script>
	</section>

	<!-- Section 2: The Vision (The "Why") -->
	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">Long-term Vision</h2>
		<div class="space-y-4">
			<p>
				Cowsay is built for the long term. The creator allocation (25% of total supply) is locked
				for 3 years via Streamflow, ensuring long-term alignment with the community. These tokens
				are never sold; they are held to maintain floor stability and demonstrate commitment to the
				project's success.
			</p>
			<p>
				The ecosystem generates sustainable revenue through NFT auctions and merchandise sales,
				which directly funds token buybacks and burns‚Äîcreating a deflationary flywheel that rewards
				holders over time.
			</p>
			<div class="rounded-lg border border-accent p-4">
				<p class="mb-2 font-semibold">3-Year Commitment</p>
				<p class="text-muted text-sm">
					The main creator allocation (25% of supply) is fully vested on Streamflow for 3 years from launch. The
					vesting contract is publicly verifiable on-chain via <a
						class="cactus-link"
						href="https://t.co/8LWYjAh7D1"
						target="_blank"
						rel="noopener noreferrer">Streamflow</a
					> and <a
						class="cactus-link"
						href="https://solscan.io"
						target="_blank"
						rel="noopener noreferrer">Solana Explorer</a
					>. No early unlocks. All verifiable from day 1.
				</p>
			</div>
		</div>
	</section>

	<!-- Section 3: Tokenomics (The "What") -->
	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">Token Distribution</h2>

		<div class="mb-6 grid gap-6 md:grid-cols-2">
			<div class="rounded-lg border border-accent p-6">
				<h3 class="title mb-4 text-lg">Public Distribution</h3>
				<p class="mb-4 text-4xl font-bold">75%</p>
				<p class="text-muted mb-4 text-sm">
					750,000,000 tokens available through fair launch on Pump.fun with bonding curve.
				</p>
				<ul class="space-y-2 text-sm">
					<li>‚Ä¢ Fair launch mechanism</li>
					<li>‚Ä¢ No presale or private allocation</li>
					<li>‚Ä¢ Initial airdrops to OG Discord members, NFT holders, and early supporters</li>
				</ul>
			</div>

			<div class="rounded-lg border border-accent p-6">
				<h3 class="title mb-4 text-lg">Creator Allocation</h3>
				<p class="mb-4 text-4xl font-bold">25%</p>
				<p class="text-muted mb-4 text-sm">
					250,000,000 tokens locked for 3 years via Streamflow to ensure long-term alignment.
				</p>
				<ul class="space-y-2 text-sm">
					<li>‚Ä¢ Locked via Streamflow vesting contract</li>
					<li>‚Ä¢ Publicly verifiable on-chain</li>
					<li>‚Ä¢ Never sold‚Äîheld for floor stability</li>
				</ul>
			</div>
		</div>

		<div class="mb-6 rounded-lg border border-green-500 bg-black p-4 font-mono text-sm">
			<div class="flex items-center gap-2">
				<span class="text-green-500">$</span>
				<span class="text-green-500">cat launch.txt</span>
			</div>
		</div>

		<div class="rounded-lg border border-accent bg-accent/5 p-6">
			<h3 class="title mb-4 text-lg">Launch Details</h3>
			<div class="grid gap-4 md:grid-cols-2">
				<div>
					<p class="text-muted mb-2 text-sm">Launch Platform</p>
					<p class="font-mono text-sm">Pump.fun</p>
				</div>
				<div>
					<p class="text-muted mb-2 text-sm">Launch Mechanism</p>
					<p class="font-mono text-sm">Bonding Curve</p>
				</div>
			</div>
		</div>
	</section>

	<!-- Section 4: The Flywheel (The Mechanics) -->
	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">The Deflationary Flywheel</h2>
		<p class="mb-6">
			All revenue from NFT auctions, secondary royalties, and merchandise sales is split
			transparently to create sustainable deflationary pressure and community rewards.
		</p>

		<div class="mb-6 rounded-lg border border-accent p-6">
			<h3 class="title mb-4 text-lg">Revenue Distribution</h3>
			<div class="space-y-4">
				<div class="flex items-center justify-between border-b border-accent/50 pb-3">
					<div class="flex items-center gap-3">
						<span class="text-2xl">45%</span>
						<div>
							<p class="font-semibold">Buyback</p>
							<p class="text-muted text-sm">
								Purchases tokens from market, adding demand and supporting price floor
							</p>
						</div>
					</div>
				</div>
				<div class="flex items-center justify-between border-b border-accent/50 pb-3">
					<div class="flex items-center gap-3">
						<span class="text-2xl">45%</span>
						<div>
							<p class="font-semibold">Burn</p>
							<p class="text-muted text-sm">
								Permanent removal of tokens from supply, creating deflationary pressure
							</p>
						</div>
					</div>
				</div>
				<div class="flex items-center justify-between">
					<div class="flex items-center gap-3">
						<span class="text-2xl">10%</span>
						<div>
							<p class="font-semibold">Treasury</p>
							<p class="text-muted text-sm">
								Funds ongoing holder airdrops and claims (multisig-controlled, on-chain verifiable)
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="mb-6 rounded-lg border border-green-500 bg-black p-4 font-mono text-sm">
			<div class="flex items-center gap-2">
				<span class="text-green-500">$</span>
				<span class="text-green-500">./distribute-revenue.sh</span>
			</div>
		</div>

		<div class="mb-6 rounded-lg border border-accent bg-accent/5 p-6 font-mono text-sm">
			<h3 class="title mb-4 text-lg">Revenue Flow</h3>
			<pre
				class="mb-0 overflow-x-auto text-xs"><code>{`// Revenue Distribution Protocol
function distributeRevenue(amount) {
  const buyback = amount * 0.45;  // 45% ‚Üí Buyback
  const burn = amount * 0.45;      // 45% ‚Üí Burn
  const treasury = amount * 0.10;  // 10% ‚Üí Treasury

  executeBuyback(buyback);         // Auto-buy from market
  executeBurn(burn);               // Permanent removal
  transferToTreasury(treasury);    // Holder airdrops

  return {
    buyback: buyback,
    burn: burn,
    treasury: treasury,
    total: amount,
    transparency: "https://cowsay.farm/token/#transparency"
  };
}`}</code></pre>
		</div>

		<div class="rounded-lg border border-accent bg-accent/5 p-6">
			<h3 class="title mb-4 text-lg">Revenue Sources</h3>
			<div class="grid gap-4 md:grid-cols-2">
				<div>
					<p class="mb-2 font-semibold">NFT Auctions</p>
					<p class="text-muted text-sm">
						COWSAY Quote NFTs (5 tiers) generate primary revenue through auctions. Secondary
						royalties flow directly to treasury/airdrop fund.
					</p>
				</div>
				<div>
					<p class="mb-2 font-semibold">Merchandise Sales</p>
					<p class="text-muted text-sm">
						Shop profits contribute to the revenue split, ensuring the ecosystem remains
						self-sustaining.
					</p>
				</div>
			</div>
		</div>

		<div class="mt-8 rounded-lg border-2 border-accent bg-accent/10 p-6 text-center">
			<p class="mb-4 font-semibold">Ready to join the community?</p>
			<div class="flex flex-wrap justify-center gap-4">
				<a
					href="https://discord.gg/yhJ24mCSxd"
					target="_blank"
					rel="noopener noreferrer"
					class="rainbow rainbow-1 inline-block"
				>
					<span>Join Discord for Launch Alerts</span>
				</a>
				<a href="/roadmap/" class="rainbow rainbow-1 inline-block">
					<span>View Roadmap</span>
				</a>
			</div>
		</div>
	</section>

	<!-- Section 5: Transparency Dashboard (Proof of Work) -->
	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">Transparency Dashboard</h2>
		<p class="mb-6">
			Complete financial transparency for the Cowsay ecosystem. All revenue, expenses, buybacks, and
			wallet balances are publicly disclosed and verifiable on-chain.
		</p>

		<div class="mb-6 rounded-lg border border-green-500 bg-black p-4 font-mono text-sm">
			<div class="flex items-center gap-2">
				<span class="text-green-500">$</span>
				<span class="text-green-500">./ecosystem-stats.sh</span>
			</div>
		</div>

		<div class="mb-8 rounded-lg border border-accent p-6">
			<h3 class="title mb-4 text-lg">Live Ecosystem Stats</h3>
			<div class="grid gap-6 md:grid-cols-3">
				<div>
					<p class="text-muted mb-2 text-sm">Total Revenue</p>
					<p class="text-2xl font-bold">$0.00</p>
					<p class="text-muted mt-1 text-xs">Awaiting launch</p>
				</div>
				<div>
					<p class="text-muted mb-2 text-sm">Tokens Bought Back</p>
					<p class="text-2xl font-bold">0</p>
					<p class="text-muted mt-1 text-xs">Awaiting launch</p>
				</div>
				<div>
					<p class="text-muted mb-2 text-sm">Tokens Burned</p>
					<p class="text-2xl font-bold">0</p>
					<p class="text-muted mt-1 text-xs">Awaiting launch</p>
				</div>
			</div>
		</div>

		<div class="mb-6 rounded-lg border border-green-500 bg-black p-4 font-mono text-sm">
			<div class="flex items-center gap-2">
				<span class="text-green-500">$</span>
				<span class="text-green-500">solana balance</span>
			</div>
		</div>

		<h3 class="title mb-4 text-lg">Wallet Addresses & Balances</h3>
		<WalletTracker />

		<div class="mb-6 mt-8 rounded-lg border border-green-500 bg-black p-4 font-mono text-sm">
			<div class="flex items-center gap-2">
				<span class="text-green-500">$</span>
				<span class="text-green-500">cat pnl.txt</span>
			</div>
		</div>

		<h3 class="title mb-4 text-lg">Profit & Loss</h3>
		<p class="text-muted mb-4 text-sm">
			Track all revenue and expenses from shop sales and NFT auctions, and see how profits are
			calculated for buybacks.
		</p>
		<PnLChart />

		<div class="mb-6 mt-8 rounded-lg border border-green-500 bg-black p-4 font-mono text-sm">
			<div class="flex items-center gap-2">
				<span class="text-green-500">$</span>
				<span class="text-green-500">cat buybacks.txt</span>
			</div>
		</div>

		<h3 class="title mb-4 text-lg">Buyback History</h3>
		<p class="text-muted mb-4 text-sm">
			All token buyback transactions are publicly recorded on-chain. Buybacks are executed
			weekly/monthly based on available profits. Click any transaction to verify on Solana explorer.
		</p>
		<BuybackTracker />
		<BuybackHistory />
	</section>

	<!-- Disclaimer -->
	<div class="rounded-md border border-yellow-500/50 bg-yellow-500/10 px-4 py-3 text-sm">
		<p class="text-textColor">
			<strong class="text-yellow-500">Disclaimer:</strong> No guarantees. This is a high-risk memecoin.
			<strong>DYOR</strong> (Do Your Own Research).
		</p>
	</div>
</PageLayout>

<style>
	.rainbow {
		background-color: #343a40;
		border-radius: 4px;
		color: #fff;
		cursor: pointer;
		padding: 8px 16px;
	}

	html[data-theme="dark"] .rainbow {
		color: #29bc89;
	}

	html[data-theme="dark"] .rainbow span {
		mix-blend-mode: color-dodge;
	}

	html[data-theme="dark"] .rainbow:hover span {
		mix-blend-mode: color-dodge;
	}

	.rainbow-1:hover {
		background-image: linear-gradient(
			90deg,
			#3769ff 0%,
			#3769ff 12%,
			#b7f00c 45%,
			#ff1e42 70%,
			#3769ff 100%
		);
		animation: slidebg 10s linear infinite;
	}

	@keyframes slidebg {
		to {
			background-position: 24vw;
		}
	}
</style>
