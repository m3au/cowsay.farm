---
import PageLayout from "@/layouts/Base.astro";
import SalesHistory from "@/components/nft/SalesHistory.astro";
import { Image } from "astro:assets";
// import AuctionCard from "@/components/nft/AuctionCard.astro"; // TODO: Uncomment when implementing active auctions

const meta = {
	description:
		"Collect unique NFT artwork featuring your favorite Cowsay developer quotes. Each piece is auctioned, with all proceeds going to token buybacks.",
	title: "NFT Gallery • @cowsayco",
};

// Demo NFT image - replace with actual NFT images when available
const demoNft = "/nft-001.png";
---

<PageLayout meta={meta}>
	<!-- Section 1: The Hero (The Concept) -->
	<section class="mb-12">
		<h1 class="title mb-6">NFT Gallery</h1>
		<p class="mb-4 text-lg">
			Daily developer culture on the blockchain. Each quote from @cowsayco becomes a unique
			collectible NFT—on-chain artifacts that capture the timeless truths of developer life.
		</p>
		<p class="text-muted mb-6">
			The Genesis Collection: Curating 5 timeless developer truths, minted across 5 rarity tiers
			with progressive utility perks.
		</p>

		<div class="mb-6 flex flex-wrap gap-4">
			<a
				href="https://discord.gg/yhJ24mCSxd"
				target="_blank"
				rel="noopener noreferrer"
				class="rainbow rainbow-1 inline-block"
			>
				<span>Join Discord for Whitelist</span>
			</a>
		</div>
	</section>

	<!-- Section 2: The Genesis Batch (The Visuals) -->
	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">Genesis Collection Preview</h2>
		<p class="mb-6">
			Our first collection features 5 iconic developer quotes, each minted across all rarity tiers
			with high-resolution terminal-style designs.
		</p>

		<!-- Terminal-style Quote Gallery -->
		<div class="mb-8 space-y-8">
			<!-- Quote 1 -->
			<div class="rounded-lg border border-accent bg-accent/5 p-6">
				<div class="mb-4 flex items-center justify-between">
					<h3 class="text-muted font-mono text-sm font-semibold">#001</h3>
					<span class="text-muted font-mono text-xs">TIER: Common → Rainbow Purple</span>
				</div>
				<div class="mb-4 rounded border border-accent bg-black p-4">
					<div class="flex min-h-[200px] items-center justify-center text-muted">
						<p class="font-mono text-sm">"It works on my machine!" - Image placeholder</p>
					</div>
				</div>
				<p class="text-muted text-sm">Available across all 5 rarity tiers</p>
			</div>

			<!-- Quote 2 -->
			<div class="rounded-lg border border-accent bg-accent/5 p-6">
				<div class="mb-4 flex items-center justify-between">
					<h3 class="text-muted font-mono text-sm font-semibold">#002</h3>
					<span class="text-muted font-mono text-xs">TIER: Common → Rainbow Purple</span>
				</div>
				<div class="mb-4 rounded border border-accent bg-black p-4">
					<div class="flex min-h-[200px] items-center justify-center text-muted">
						<p class="font-mono text-sm">"There are only two hard things in computer science: cache invalidation and naming things." - Image placeholder</p>
					</div>
				</div>
				<p class="text-muted text-sm">Available across all 5 rarity tiers</p>
			</div>

			<!-- Quote 3 -->
			<div class="rounded-lg border border-accent bg-accent/5 p-6">
				<div class="mb-4 flex items-center justify-between">
					<h3 class="text-muted font-mono text-sm font-semibold">#003</h3>
					<span class="text-muted font-mono text-xs">TIER: Common → Rainbow Purple</span>
				</div>
				<div class="mb-4 rounded border border-accent bg-black p-4">
					<div class="flex min-h-[200px] items-center justify-center text-muted">
						<p class="font-mono text-sm">"There are 10 types of people in the world: those who understand binary, and those who don't." - Image placeholder</p>
					</div>
				</div>
				<p class="text-muted text-sm">Available across all 5 rarity tiers</p>
			</div>

			<!-- Quote 4 -->
			<div class="rounded-lg border border-accent bg-accent/5 p-6">
				<div class="mb-4 flex items-center justify-between">
					<h3 class="text-muted font-mono text-sm font-semibold">#004</h3>
					<span class="text-muted font-mono text-xs">TIER: Common → Rainbow Purple</span>
				</div>
				<div class="mb-4 rounded border border-accent bg-black p-4">
					<div class="flex min-h-[200px] items-center justify-center text-muted">
						<p class="font-mono text-sm">"Why do programmers prefer dark mode? Because light attracts bugs." - Image placeholder</p>
					</div>
				</div>
				<p class="text-muted text-sm">Available across all 5 rarity tiers</p>
			</div>

			<!-- Quote 5 -->
			<div class="rounded-lg border border-accent bg-accent/5 p-6">
				<div class="mb-4 flex items-center justify-between">
					<h3 class="text-muted font-mono text-sm font-semibold">#005</h3>
					<span class="text-muted font-mono text-xs">TIER: Common → Rainbow Purple</span>
				</div>
				<div class="mb-4 rounded border border-accent bg-black p-4">
					<div class="flex min-h-[200px] items-center justify-center text-muted">
						<p class="font-mono text-sm">"A SQL query goes into a bar, walks up to two tables, and asks, 'Can I join you?'" - Image placeholder</p>
					</div>
				</div>
				<p class="text-muted text-sm">Available across all 5 rarity tiers</p>
			</div>
		</div>

		<!-- Demo NFT Image Preview -->
		<div class="mb-6 rounded-lg border border-accent bg-accent/5 p-6">
			<h3 class="title mb-4 text-lg">Visual Preview</h3>
			<p class="text-muted mb-4 text-sm">
				Each NFT is a high-resolution (2000x+ PNG) terminal-style artwork with transparent
				backgrounds, available in 5 rarity tiers.
			</p>
			<div class="rounded border border-accent bg-black p-4">
				<img
					src={demoNft}
					alt="Cowsay NFT Preview - It works on my machine!"
					class="mx-auto max-w-full"
				/>
			</div>
		</div>

		<!-- Collection Specs Table -->
		<div class="mb-6 overflow-x-auto rounded-lg border border-accent">
			<table class="w-full border-collapse">
				<thead>
					<tr class="bg-accent/10">
						<th class="border border-accent p-3 text-left font-mono text-sm">Tier</th>
						<th class="border border-accent p-3 text-left font-mono text-sm">Supply</th>
						<th class="border border-accent p-3 text-left font-mono text-sm">Design</th>
						<th class="border border-accent p-3 text-left font-mono text-sm">Description</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="border border-accent p-3 font-mono text-sm">Common</td>
						<td class="border border-accent p-3 font-mono text-sm">60%</td>
						<td class="border border-accent p-3 font-mono text-sm">Black ASCII on white BG</td>
						<td class="border border-accent p-3 text-sm">Minimalist entry-level collectible</td>
					</tr>
					<tr class="bg-accent/5">
						<td class="border border-accent p-3 font-mono text-sm">Green</td>
						<td class="border border-accent p-3 font-mono text-sm">25%</td>
						<td class="border border-accent p-3 font-mono text-sm">Green-on-black retro CRT</td>
						<td class="border border-accent p-3 text-sm"
							>Nostalgic dev vibe with classic terminal aesthetics</td
						>
					</tr>
					<tr>
						<td class="border border-accent p-3 font-mono text-sm">Rainbow Green</td>
						<td class="border border-accent p-3 font-mono text-sm">10%</td>
						<td class="border border-accent p-3 font-mono text-sm">Rainbow gradient (green)</td>
						<td class="border border-accent p-3 text-sm">Fresh lolcat energy</td>
					</tr>
					<tr class="bg-accent/5">
						<td class="border border-accent p-3 font-mono text-sm">Rainbow Yellow</td>
						<td class="border border-accent p-3 font-mono text-sm">5%</td>
						<td class="border border-accent p-3 font-mono text-sm"
							>Rainbow gradient (yellow/orange)</td
						>
						<td class="border border-accent p-3 text-sm">Sunny & energetic</td>
					</tr>
					<tr>
						<td class="border border-accent p-3 font-mono text-sm">Rainbow Purple</td>
						<td class="border border-accent p-3 font-mono text-sm">3-5% (some 1/1)</td>
						<td class="border border-accent p-3 font-mono text-sm">Purple-dominant rainbow</td>
						<td class="border border-accent p-3 text-sm">Ultra-rare mystical tier</td>
					</tr>
				</tbody>
			</table>
		</div>
	</section>

	<!-- Section 3: Holder Utility (The "Alpha") -->
	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">NFT Holder Perks</h2>
		<p class="mb-6">
			Holding a Cowsay NFT grants tier-scaled utility within the ecosystem. Higher rarity tiers
			receive proportionally larger benefits.
		</p>

		<div class="mb-6 grid gap-6 md:grid-cols-3">
			<div class="rounded-lg border border-accent p-6">
				<h3 class="title mb-4 text-lg">Token Airdrops</h3>
				<p class="text-muted mb-4 text-sm">
					Periodic claimable $COWSAY airdrops from treasury allocations. Tier-scaled: higher tiers
					receive larger shares.
				</p>
				<p class="text-muted font-mono text-xs">
					Source: Initial launch supply + secondary royalties + merch profits
				</p>
			</div>

			<div class="rounded-lg border border-accent p-6">
				<h3 class="title mb-4 text-lg">Discord Roles</h3>
				<p class="text-muted mb-4 text-sm">
					Exclusive Discord roles and channels for NFT holders. Priority access to whitelists and
					community events.
				</p>
				<p class="text-muted font-mono text-xs">Access: Verified holder status</p>
			</div>

			<div class="rounded-lg border border-accent p-6">
				<h3 class="title mb-4 text-lg">Governance</h3>
				<p class="text-muted mb-4 text-sm">
					Future governance rights for treasury allocations and ecosystem decisions. Higher tiers
					have weighted voting power.
				</p>
				<p class="text-muted font-mono text-xs">Status: Post-launch implementation</p>
			</div>
		</div>
	</section>

	<!-- Section 4: The Economic Loop (The "Burn") -->
	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">Ecosystem Flywheel</h2>
		<p class="mb-6">
			NFT sales create a sustainable economic loop that directly benefits token holders through
			buybacks and burns.
		</p>

		<div class="mb-6 rounded-lg border border-accent p-6">
			<h3 class="title mb-4 text-lg">Revenue Flow</h3>
			<div class="space-y-4">
				<div class="flex items-center justify-between border-b border-accent/50 pb-3">
					<div class="flex items-center gap-3">
						<span class="font-mono text-2xl">45%</span>
						<div>
							<p class="font-semibold">Buyback</p>
							<p class="text-muted text-sm">
								Purchases $COWSAY from market, adding demand and supporting price floor
							</p>
						</div>
					</div>
				</div>
				<div class="flex items-center justify-between border-b border-accent/50 pb-3">
					<div class="flex items-center gap-3">
						<span class="font-mono text-2xl">45%</span>
						<div>
							<p class="font-semibold">Burn</p>
							<p class="text-muted text-sm">
								Permanent removal of tokens from supply, creating deflationary pressure
							</p>
						</div>
					</div>
				</div>
				<div class="flex items-center justify-between">
					<div class="flex items-center gap-3">
						<span class="font-mono text-2xl">10%</span>
						<div>
							<p class="font-semibold">Treasury</p>
							<p class="text-muted text-sm">
								Funds holder airdrops and rewards (multisig-controlled, on-chain verifiable)
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="mb-6 rounded-lg border border-accent bg-accent/5 p-6">
			<h3 class="title mb-4 text-lg">Collection Specs</h3>
			<div class="grid gap-4 font-mono text-sm md:grid-cols-2">
				<div>
					<p class="text-muted mb-2">Minting Standard</p>
					<p class="text-textColor">Metaplex on Solana</p>
				</div>
				<div>
					<p class="text-muted mb-2">Primary Sales</p>
					<p class="text-textColor">Tensor Launchpad / Magic Eden</p>
				</div>
				<div>
					<p class="text-muted mb-2">Creator Royalties</p>
					<p class="text-textColor">7-10% on secondary sales</p>
				</div>
				<div>
					<p class="text-muted mb-2">Resolution</p>
					<p class="text-textColor">2000x+ PNG, transparent BG</p>
				</div>
			</div>
		</div>

		<div class="rounded-lg border border-accent bg-accent/10 p-4">
			<p class="mb-2 font-semibold">Transparency & Verification</p>
			<p class="text-muted text-sm">
				All revenue flows are transparent and verifiable on-chain. Treasury allocations are locked
				for holder rewards, ensuring long-term value for the community. Track all sales, buybacks,
				and burns on our <a class="cactus-link" href="/token/">token page</a>.
			</p>
		</div>
	</section>

	<!-- Section 5: Marketplace & History -->
	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">Marketplace Links</h2>
		<p class="text-muted mb-6 text-sm">
			Primary sales via Tensor Launchpad or Magic Eden. Secondary trading available on both
			platforms.
		</p>

		<div class="mb-8 flex flex-wrap gap-4">
			<a
				href="https://tensor.trade"
				target="_blank"
				rel="noopener noreferrer"
				class="rainbow rainbow-1 inline-block"
			>
				<span>Tensor Launchpad</span>
			</a>
			<a
				href="https://magiceden.io"
				target="_blank"
				rel="noopener noreferrer"
				class="rainbow rainbow-1 inline-block"
			>
				<span>Magic Eden</span>
			</a>
			<a
				href="https://tensor.trade"
				target="_blank"
				rel="noopener noreferrer"
				class="rainbow rainbow-1 inline-block"
			>
				<span>Tensor (Secondary)</span>
			</a>
		</div>
	</section>

	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">Active Auctions</h2>
		<div class="rounded-lg border border-accent bg-black p-6 font-mono text-sm">
			<pre
				class="text-green-400">[SYSTEM]: No active sessions found.
[STATUS]: Awaiting Genesis Mint...
[ACTION]: Join Discord for launch alerts → discord.gg/yhJ24mCSxd</pre>
		</div>
		<!-- Auction cards will be rendered here -->
		<!-- <AuctionCard /> -->
	</section>

	<section class="mb-12">
		<h2 class="title mb-6 text-2xl">Sales History</h2>
		<div class="mb-6 rounded-lg border border-accent bg-black p-6 font-mono text-sm">
			<pre
				class="text-green-400">[SYSTEM]: No transaction records found.
[STATUS]: Awaiting first auction...
[ACTION]: Sales history will populate automatically post-launch.</pre>
		</div>
		<SalesHistory />
	</section>

	<!-- Bottom CTA -->
	<section class="mb-12">
		<div class="rounded-lg border-2 border-accent bg-accent/10 p-6 text-center">
			<p class="mb-4 font-semibold">Ready to collect developer artifacts?</p>
			<div class="flex flex-wrap justify-center gap-4">
				<a
					href="https://discord.gg/yhJ24mCSxd"
					target="_blank"
					rel="noopener noreferrer"
					class="rainbow rainbow-1 inline-block"
				>
					<span>Join Discord for Whitelist</span>
				</a>
				<a href="/token/" class="rainbow rainbow-1 inline-block">
					<span>View Tokenomics</span>
				</a>
			</div>
		</div>
	</section>
</PageLayout>

<style>
	.rainbow {
		background-color: #343a40;
		border-radius: 4px;
		color: #fff;
		cursor: pointer;
		padding: 8px 16px;
	}

	html[data-theme="dark"] .rainbow {
		color: #29bc89;
	}

	html[data-theme="dark"] .rainbow span {
		mix-blend-mode: color-dodge;
	}

	html[data-theme="dark"] .rainbow:hover span {
		mix-blend-mode: color-dodge;
	}

	.rainbow-1:hover {
		background-image: linear-gradient(
			90deg,
			#3769ff 0%,
			#3769ff 12%,
			#b7f00c 45%,
			#ff1e42 70%,
			#3769ff 100%
		);
		animation: slidebg 10s linear infinite;
	}

	@keyframes slidebg {
		to {
			background-position: 24vw;
		}
	}
</style>
